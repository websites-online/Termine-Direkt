<section class="section page">
  <div class="container">
    <div class="section-header">
      <h1 class="section-title">{{ company?.name || 'Reservierungsseite' }}</h1>
      <p class="section-lead" *ngIf="company">
        {{ company.address }} · {{ company.hours }}
      </p>
      <p class="section-lead" *ngIf="!company">
        Reservierungsseite folgt.
      </p>
    </div>

    <div class="grid-2 demo-grid" *ngIf="company">
      <div class="card calendar-card">
        <h2>Kalender</h2>
        <div class="calendar-header">
          <span>März 2026</span>
          <span class="muted">Mo–So</span>
        </div>
        <div class="calendar-weekdays">
          <span *ngFor="let day of weekdays">{{ day }}</span>
        </div>
        <div class="calendar-grid">
          <span
            class="day"
            *ngFor="let day of calendarDays"
            [class.muted]="day.muted"
            [class.active]="day.active"
          >
            {{ day.label }}
          </span>
        </div>
        <p class="helptext">Datum auswählen (Demo).</p>
      </div>

      <div class="card">
        <h2>Reservierungsdetails</h2>
        <p class="muted">E-Mail: {{ company.email }}</p>
        <div class="slot-row">
          <button class="slot" type="button" [class.active]="bookingForm.value.time === '18:00'" (click)="bookingForm.patchValue({ time: '18:00' })">18:00</button>
          <button class="slot" type="button" [class.active]="bookingForm.value.time === '18:30'" (click)="bookingForm.patchValue({ time: '18:30' })">18:30</button>
          <button class="slot" type="button" [class.active]="bookingForm.value.time === '19:00'" (click)="bookingForm.patchValue({ time: '19:00' })">19:00</button>
        </div>
        <p class="helptext">Ausgewählt: {{ bookingForm.value.time }}</p>
        <form class="demo-form" [formGroup]="bookingForm" (ngSubmit)="submit()">
          <label>
            <span class="label">Name*</span>
            <input class="input" type="text" formControlName="name" placeholder="Vor- und Nachname" />
          </label>
          <label>
            <span class="label">Telefon*</span>
            <input class="input" type="tel" formControlName="phone" placeholder="Telefonnummer" />
          </label>
          <label>
            <span class="label">Personen*</span>
            <input class="input" type="number" min="1" formControlName="people" />
          </label>
          <label>
            <span class="label">Notiz (optional)</span>
            <textarea class="textarea" formControlName="note" placeholder="Zusätzliche Hinweise"></textarea>
          </label>
          <button class="btn btn-primary" type="submit">Reservieren</button>
          <p class="helptext" *ngIf="successMessage">{{ successMessage }}</p>
        </form>
      </div>
    </div>
  </div>
</section>
